<link rel="import"
      href="../../bower_components/polymer/polymer.html">
<link rel="import"
      href="../../bower_components/app-storage/app-localstorage/app-localstorage-document.html">

<link rel="import"
      href="./jwt-login.html">

<dom-module id="jwt-manager">

    <template>

        <style></style>
        <jwt-login
                logout="{{logout}}"
                id="{{loginId}}"
                login-popup="{{loginPopup}}"
                validate-url="{{validateUrl}}"
                refresh-url="{{refreshUrl}}"
                logout-url="{{logoutUrl}}"
                auth-url="{{authUrl}}"
                token-object="{{tokenObject}}"></jwt-login>
        <app-localstorage-document key="tokenObject" data="{{tokenObject}}"></app-localstorage-document>
    </template>
    <script>
        Polymer({

            is: 'jwt-manager',
            properties: {
                loginId: {
                    type: String,
                    value: "jwtChildLogin"
                },
                logout: {
                    type: Boolean,
                    value: false,
                    reflectToAttribute: true,
                    notify: true,
                },
                authUrl: {
                    type: String,
                    value: "/v1/auth/"
                },
                validateUrl: {
                    type: String,
                    value: "/v1/auth/validate"
                },
                refreshUrl: {
                    type: String,
                    value: "/v1/auth/refresh"
                },
                logoutUrl: {
                    type: String,
                    value: "/v1/auth/logout"
                },
                loginPopup: {
                    type: Boolean,
                    reflectToAttribute: true,
                    value: false
                },
                tokenObject: {
                    type: Object,
                    notify: true,
                    reflectToAttribute: true,
                }
            }


        });
    </script>

</dom-module>
